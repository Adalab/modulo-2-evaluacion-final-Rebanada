const resultsList=document.querySelector(".js-characters-list"),inputDisney=document.querySelector(".js-input"),btnSearch=document.querySelector(".js-btn-search"),favoriteList=document.querySelector(".js-favorite-list"),url="https://dev.adalab.es/api/disney?pageSize=15";let dataDisney=[],favoritesDisney=[];const charactersLS=JSON.parse(localStorage.getItem("characters"));function init(){charactersLS&&(favoritesDisney=charactersLS,renderFavoriteDisney(favoritesDisney))}function renderDisney(e){let i="";for(const a of e){a.imageUrl&&a.imageUrl.length>0&&a.imageUrl[0].url;i+=`<li class="js-list-disney js_li_characters disney_characters_list" id="${a._id}">\n              <div class="js-container-disney">\n                <h3 class="js-name-disney disney_characters-list-name" id="${a._id}">${a.name}</h3>\n                <img class="disney_characters-list-image" src="${a.imageUrl}" alt="Disney Character ${a.name}" title="Disney Character ${a.name}"/>\n              </div>\n            </li>`}resultsList.innerHTML=i,addEventCharacter()}function getDataApi(e){fetch(url).then(e=>e.json()).then(e=>{dataDisney=e.data,renderDisney(dataDisney)}).catch(e=>console.log("Error fetching characters:",e))}function addEventCharacter(){const e=document.querySelectorAll(".js_li_characters");for(const i of e)i.addEventListener("click",handleClickAddFavorite)}function handleClickAddFavorite(e){const i=parseInt(e.currentTarget.id),a=dataDisney.find(e=>e._id===i),t=favoritesDisney.findIndex(e=>e._id===i);-1===t?favoritesDisney.push(a):favoritesDisney.splice(t,1),localStorage.setItem("characters",JSON.stringify(favoritesDisney)),console.log(favoritesDisney),renderFavoriteDisney(favoritesDisney)}function renderFavoriteDisney(e){favoriteList.innerHTML="";let i="";for(const a of e){a.imageUrl&&a.imageUrl.length>0&&a.imageUrl[0].url;i+=`<li class="js-list-disney js_li_characters fav_card disney_favorite_list" id="${a._id}">\n              <div class="js-container-disney">\n                <h3 class="js-name-disney disney_characters-list-name" id="${a._id}">${a.name}</h3>\n                <img class="disney_characters-list-image" src="${a.imageUrl}" alt="Disney Character ${a.name}" title="Disney Character ${a.name}"/>\n              </div>\n            </li>`}favoriteList.innerHTML=i}init();const handleClickSearch=e=>{e.preventDefault();const i=inputDisney.value,a=dataDisney.filter(e=>e.name.toLowerCase().includes(i.toLowerCase()));console.log(a),renderDisney(a)};btnSearch.addEventListener("click",handleClickSearch),getDataApi("");